{"version":3,"sources":["main.min.js"],"names":["nav","document","querySelector","navBtn","navInner","addEventListener","evt","preventDefault","classList","add","remove","querySelectorAll","forEach","link","nextElementSibling","contains","toggle","links","menuItems","sidemenu","nameItem","this","parentElement","getAttribute","i","length","list","btnCloseMenu","item","window","onresize","items","outerWidth","resize_info","innerHTML","block","innerText","text","substring","console","log","lastIndex","lastIndexOf","popups","popupOverlay","popupBtnClose","wrapper","popupOpenBtns","btn","nameBtn","sliderAll","id","slideCount","loopedSlidesCount","slidesPerView320","slider","Swiper","direction","slidesPerView","spaceBetween","loop","freeMode","speed","loopedSlides","breakpoints","320","480","640","1200","pagination","el","clickable","navigation","nextEl","prevEl","effect","parallax","autoplay","delay","disableOnInteraction","trigger","content","activeTrigger","activeContent","canvas","getElementById","can_w","parseInt","can_h","ctx","getContext","ball","x","y","vx","vy","r","alpha","phase","ball_color","g","b","R","balls","alpha_f","alpha_phase","link_line_width","dis_limit","add_mouse_point","mouse_in","mouse_ball","type","getRandomSpeed","pos","randomNumFrom","randomArrayItem","arr","Math","floor","random","min","max","getRandomBall","randomSidePos","ceil","renderBalls","Array","prototype","call","hasOwnProperty","fillStyle","beginPath","arc","PI","closePath","fill","updateBalls","new_balls","push","abs","cos","slice","loopAlphaInf","renderLines","fraction","j","getDisOf","toString","strokeStyle","lineWidth","moveTo","lineTo","stroke","b1","b2","delta_x","delta_y","sqrt","addBallIfy","render","clearRect","requestAnimationFrame","initBalls","num","initCanvas","setAttribute","innerWidth","innerHeight","goMovie","e","event","pageX","pageY"],"mappings":"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","file":"main.min.js","sourcesContent":["\r\n\"use strict\";\r\n\r\n// Импортируем другие js-файлы\r\n\r\n// Меню\r\n(function() {\r\n  var nav = document.querySelector(\".mob-navigation\");\r\n  var navBtn = nav.querySelector(\".mob-navigation__toggle\");\r\n  var navInner = nav.querySelector(\".mob-navigation__inner\");\r\n\r\n  navBtn.addEventListener(\"click\", function(evt) {\r\n    evt.preventDefault();\r\n    navInner.classList.add(\"active\");\r\n    navInner.classList.remove(\"closed\");\r\n  });\r\n\r\n  var links = nav.querySelectorAll(\".mob-navigation a\");\r\n  links.forEach(function(link) {\r\n    link.addEventListener(\"click\", function(evt) {\r\n      if (link.nextElementSibling && !link.classList.contains(\"logo\")) {\r\n        evt.preventDefault();\r\n        link.nextElementSibling.classList.toggle(\"active\");\r\n      }\r\n    });\r\n  });\r\n\r\n  var navBtnClosed = nav.querySelector(\".mob-navigation__closed\");\r\n  navBtnClosed.addEventListener('click', function(evt){\r\n    evt.preventDefault();\r\n    navInner.classList.remove(\"active\");\r\n    navInner.classList.add(\"closed\");\r\n  });\r\n})();\r\n(function() {\r\n  var links = document.querySelectorAll(\".navigation__link\");\r\n  var menuItems = document.querySelectorAll(\".sidemenu__inner-menu\");\r\n  var sidemenu = document.querySelector(\".sidemenu__inner\");\r\n\r\n  links.forEach(function(link) {\r\n    link.addEventListener(\"click\", function(evt) {\r\n      var nameItem = this.parentElement.getAttribute(\"data-item\");\r\n      for (var i = 0; i < menuItems.length; i++) {\r\n        menuItems[i].classList.remove(\"sidemenu__inner-menu--active\");\r\n        var menuItem = menuItems[i];\r\n        var menuItemName = menuItem.getAttribute(\"data-item\");\r\n\r\n        if (nameItem == menuItemName) {\r\n          evt.preventDefault();\r\n          sidemenu.classList.add(\"visible\");\r\n          document.querySelector(\"body\").classList.add(\"overlay\");\r\n          document\r\n            .querySelector(\r\n              \".sidemenu__inner-menu[data-item='\" + nameItem + \"']\"\r\n            )\r\n            .classList.add(\"sidemenu__inner-menu--active\");\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  var innerlinks = document.querySelectorAll(\".sidemenu__inner-link\");\r\n  innerlinks.forEach(function(link) {\r\n    link.addEventListener(\"click\", function(evt) {\r\n      evt.preventDefault();\r\n      link.classList.toggle(\"active\");\r\n      var list = link.nextElementSibling;\r\n      if (list) list.classList.toggle(\"active\");\r\n    });\r\n  });\r\n  var btnCloseMenu = document.querySelector(\".js-btn-close\");\r\n  if (btnCloseMenu) {\r\n    btnCloseMenu.addEventListener(\"click\", function(evt) {\r\n      evt.preventDefault();\r\n      sidemenu.classList.remove(\"visible\");\r\n      document.querySelector(\"body\").classList.remove(\"overlay\");\r\n    });\r\n  }\r\n})();\r\n(function(){\r\n  var links = document.querySelectorAll(\".page-footer__list-link\");\r\n\r\n  links.forEach(function(link){\r\n    link.addEventListener('click', function(evt){\r\n      evt.preventDefault();\r\n      link.parentElement.classList.toggle('active');\r\n    })\r\n  });\r\n  document.addEventListener(\"DOMContentLoaded\", function(evt) {\r\n    var items = document.querySelectorAll(\".page-footer__list-item\");\r\n\r\n    items.forEach(function(item) {\r\n      item.classList.add(\"active\");\r\n    });\r\n    window.onresize = function() {\r\n      resize_info();\r\n    };\r\n  });\r\n\r\n  function resize_info() {\r\n    var items = document.querySelectorAll(\".page-footer__list-item\");\r\n    if (window.outerWidth > 600) {\r\n      items.forEach(function(item) {\r\n        item.classList.add(\"active\");\r\n      });\r\n    } else {\r\n      items.forEach(function(item) {\r\n        item.classList.remove(\"active\");\r\n      });\r\n    }\r\n  }\r\n})();\r\n\r\n// Блоки\r\n(function() {\r\n  var links = document.querySelectorAll(\".page-section__link span\");\r\n  links.forEach(function(link) {\r\n    if (link && (window.outerWidth < 600)) {\r\n      link.innerHTML = \"Ещё\";\r\n    }\r\n  });\r\n})();\r\n(function() {\r\n  var textBlocks = document.querySelectorAll(\".block-preview__text\");\r\n  textBlocks.forEach(function(block) {\r\n    var size = 128;\r\n\r\n    if (block.innerText.length >= size) {\r\n      var text = block.innerText.substring(0, size);\r\n      console.log(text);\r\n      var lastIndex = text.lastIndexOf(\" \"); // позиция последнего пробела\r\n      var text = block.innerText.substring(0, lastIndex) + \"...\"; // обрезаем до последнего слова\r\n\r\n      return (block.innerText = text);\r\n    }\r\n  });\r\n})();\r\n\r\n\r\n// var popup = document.querySelector(\".popup\");\r\nvar popups = document.querySelectorAll(\".popup\");\r\nvar popupOverlay = document.querySelector(\".popup-overlay\");\r\nvar popupBtnClose = document.querySelector(\".popup-close\");\r\nvar wrapper = document.querySelector(\".wrapper\");\r\n\r\nvar popupOpenBtns = document.querySelectorAll(\".js-popup-btn\");\r\n\r\npopupOpenBtns.forEach(function(btn) {\r\n  btn.addEventListener(\"click\", function(evt) {\r\n    evt.preventDefault();\r\n    var nameBtn = btn.getAttribute(\"data-target\");\r\n    for (var i = 0; i < popups.length; i++) {\r\n      popups[i].classList.remove(\"popup-show\");\r\n      var namePopup = popups[i].getAttribute(\"data-target\");\r\n\r\n      if (nameBtn == namePopup) {\r\n        popupOverlay.classList.add(\"popup-show\");\r\n        document.querySelector(\"body\").classList.add(\"overlay\");\r\n\r\n        popupBtnClose.addEventListener(\"click\", function(evt) {\r\n          evt.preventDefault();\r\n          popupOverlay.classList.remove(\"popup-show\");\r\n          document.querySelector(\"body\").classList.remove(\"overlay\");\r\n        });\r\n      }\r\n    }\r\n  });\r\n});\r\n\r\n// // var popupForm = popup.querySelector('form');\r\n// var inputName = popup.querySelector(\"[id=name]\");\r\n// // var inputPhone = popup.querySelector('[id=phone]');\r\n// // var inputEmail = popup.querySelector('[id=email]');\r\n\r\n// wrapper.addEventListener(\"click\", function(evt) {\r\n//   var target = evt.target;\r\n//   if (target.className != \"button button-order popup-btn\") return;\r\n//   popupOverlay.classList.add(\"popup-show\");\r\n//   document.querySelector(\"body\").classList.add(\"overlay\");\r\n//   inputName.focus();\r\n// });\r\n\r\n// $(\".popup-order__input--file\").change(function() {\r\n//   if ($(this).val() != \"\")\r\n//     $(this)\r\n//       .prev()\r\n//       .text(\"Выбрано файлов: \" + $(this)[0].files.length);\r\n//   else\r\n//     $(this)\r\n//       .prev()\r\n//       .text(\"Прикрепить файл (jpg, pdf, excel, word, zip, rar)\");\r\n// });\r\n(function() {\r\n  var sliderAll = [\r\n    {\r\n      id: \"#js-slider-web\",\r\n      slideCount: 4,\r\n      loopedSlidesCount: 1,\r\n      slidesPerView320: 1.5\r\n    },\r\n    {\r\n      id: \"#js-slider-design\",\r\n      slideCount: 4,\r\n      loopedSlidesCount: 1,\r\n      slidesPerView320: 1.5\r\n    },\r\n    {\r\n      id: \"#js-slider-video\",\r\n      slideCount: 3,\r\n      loopedSlidesCount: 3,\r\n      slidesPerView320: 1.5\r\n    },\r\n    {\r\n      id: \"#js-slider-news\",\r\n      slideCount: 4,\r\n      loopedSlidesCount: 1,\r\n      slidesPerView320: 1.5\r\n    },\r\n    {\r\n      id: \"#js-slider-jobs\",\r\n      slideCount: 4,\r\n      loopedSlidesCount: 4,\r\n      slidesPerView320: 1.5\r\n    },\r\n    {\r\n      id: \"#js-slider-history\",\r\n      slideCount: 2,\r\n      loopedSlidesCount: 4,\r\n      slidesPerView320: 1.5\r\n    }\r\n  ];\r\n\r\n  for (var i = 0; i < sliderAll.length; i++) {\r\n    var slider = sliderAll[i];\r\n\r\n    var swiper = new Swiper(slider.id, {\r\n      direction: \"horizontal\",\r\n      slidesPerView: slider.slideCount,\r\n      spaceBetween: 15,\r\n      loop: false,\r\n      freeMode: true,\r\n\r\n      spaceBetween: 10,\r\n      speed: 700,\r\n      loopedSlides: slider.loopedSlidesCount,\r\n      // Responsive breakpoints\r\n      breakpoints: {\r\n        // when window width is <= 320px\r\n        320: {\r\n          slidesPerView: slider.slidesPerView320,\r\n          spaceBetween: 10\r\n        },\r\n        // when window width is <= 480px\r\n        480: {\r\n          slidesPerView: 1,\r\n          spaceBetween: 20\r\n        },\r\n        // when window width is <= 640px\r\n        640: {\r\n          slidesPerView: 2,\r\n          spaceBetween: 15\r\n        },\r\n        // when window width is <= 1200px\r\n        1200: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 15\r\n        }\r\n      },\r\n      pagination: {\r\n        el: \".swiper-pagination\",\r\n        clickable: true\r\n      },\r\n      navigation: {\r\n        nextEl: \".swiper-button-next\",\r\n        prevEl: \".swiper-button-prev\"\r\n      }\r\n    });\r\n  }\r\n\r\n  var swiperService = new Swiper(\"#js-slider-service\", {\r\n    direction: \"horizontal\",\r\n    slidesPerView: 1,\r\n    spaceBetween: 15,\r\n    loop: false,\r\n    freeMode: true,\r\n\r\n    spaceBetween: 10,\r\n    speed: 700,\r\n    loopedSlides: 1,\r\n    // Responsive breakpoints\r\n    breakpoints: {\r\n      // when window width is <= 320px\r\n      320: {\r\n        slidesPerView: 1,\r\n        spaceBetween: 10\r\n      },\r\n      // when window width is <= 480px\r\n      480: {\r\n        slidesPerView: 1,\r\n        spaceBetween: 20\r\n      },\r\n      // when window width is <= 640px\r\n      640: {\r\n        slidesPerView: 1,\r\n        spaceBetween: 15\r\n      },\r\n      // when window width is <= 1200px\r\n      1200: {\r\n        slidesPerView: 1,\r\n        spaceBetween: 15\r\n      }\r\n    },\r\n    effect: \"fade\",\r\n    parallax: true,\r\n    autoplay: {\r\n      delay: 2500,\r\n      disableOnInteraction: false\r\n    },\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true\r\n    },\r\n    navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\"\r\n    }\r\n  });\r\n})();\r\n(function() {\r\n  var jsTriggers = document.querySelectorAll(\".js-tab-trigger\");\r\n  jsTriggers.forEach(function(trigger) {\r\n    trigger.addEventListener(\"click\", function() {\r\n      var id = this.getAttribute(\"data-tab\"),\r\n        content = document.querySelector(\r\n          '.js-tab-content[data-tab=\"' + id + '\"]'\r\n        ),\r\n        activeTrigger = document.querySelector(\".js-tab-trigger.active\"),\r\n        activeContent = document.querySelector(\".js-tab-content.active\");\r\n\r\n      activeTrigger.classList.remove(\"active\");\r\n      trigger.classList.add(\"active\");\r\n\r\n      activeContent.classList.remove(\"active\");\r\n      content.classList.add(\"active\");\r\n    });\r\n  });\r\n})();\r\n\r\nvar canvas = document.getElementById(\"nokey\"),\r\n  can_w = parseInt(canvas.getAttribute(\"width\")),\r\n  can_h = parseInt(canvas.getAttribute(\"height\")),\r\n  ctx = canvas.getContext(\"2d\");\r\n\r\n// console.log(typeof can_w);\r\n\r\nvar ball = {\r\n    x: 0,\r\n    y: 0,\r\n    vx: 0,\r\n    vy: 0,\r\n    r: 0,\r\n    alpha: 1,\r\n    phase: 0\r\n  },\r\n  ball_color = {\r\n    r: 230,\r\n    g: 230,\r\n    b: 230\r\n  },\r\n  R = 6,\r\n  balls = [],\r\n  alpha_f = 0.03,\r\n  alpha_phase = 0,\r\n  // Line\r\n  link_line_width = 0.8,\r\n  dis_limit = 260,\r\n  add_mouse_point = true,\r\n  mouse_in = false,\r\n  mouse_ball = {\r\n    x: 0,\r\n    y: 0,\r\n    vx: 0,\r\n    vy: 0,\r\n    r: 0,\r\n    type: \"mouse\"\r\n  };\r\n\r\n// Random speed\r\nfunction getRandomSpeed(pos) {\r\n  var min = -1,\r\n    max = 1;\r\n  switch (pos) {\r\n    case \"top\":\r\n      return [randomNumFrom(min, max), randomNumFrom(0.1, max)];\r\n      break;\r\n    case \"right\":\r\n      return [randomNumFrom(min, -0.1), randomNumFrom(min, max)];\r\n      break;\r\n    case \"bottom\":\r\n      return [randomNumFrom(min, max), randomNumFrom(min, -0.1)];\r\n      break;\r\n    case \"left\":\r\n      return [randomNumFrom(0.1, max), randomNumFrom(min, max)];\r\n      break;\r\n    default:\r\n      return;\r\n      break;\r\n  }\r\n}\r\n\r\nfunction randomArrayItem(arr) {\r\n  return arr[Math.floor(Math.random() * arr.length)];\r\n}\r\n\r\nfunction randomNumFrom(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\nconsole.log(randomNumFrom(0, 10));\r\n// Random Ball\r\nfunction getRandomBall() {\r\n  var pos = randomArrayItem([\"top\", \"right\", \"bottom\", \"left\"]);\r\n  switch (pos) {\r\n    case \"top\":\r\n      return {\r\n        x: randomSidePos(can_w),\r\n        y: -R,\r\n        vx: getRandomSpeed(\"top\")[0],\r\n        vy: getRandomSpeed(\"top\")[1],\r\n        r: R,\r\n        alpha: 1,\r\n        phase: randomNumFrom(0, 10)\r\n      };\r\n      break;\r\n    case \"right\":\r\n      return {\r\n        x: can_w + R,\r\n        y: randomSidePos(can_h),\r\n        vx: getRandomSpeed(\"right\")[0],\r\n        vy: getRandomSpeed(\"right\")[1],\r\n        r: R,\r\n        alpha: 1,\r\n        phase: randomNumFrom(0, 10)\r\n      };\r\n      break;\r\n    case \"bottom\":\r\n      return {\r\n        x: randomSidePos(can_w),\r\n        y: can_h + R,\r\n        vx: getRandomSpeed(\"bottom\")[0],\r\n        vy: getRandomSpeed(\"bottom\")[1],\r\n        r: R,\r\n        alpha: 1,\r\n        phase: randomNumFrom(0, 10)\r\n      };\r\n      break;\r\n    case \"left\":\r\n      return {\r\n        x: -R,\r\n        y: randomSidePos(can_h),\r\n        vx: getRandomSpeed(\"left\")[0],\r\n        vy: getRandomSpeed(\"left\")[1],\r\n        r: R,\r\n        alpha: 1,\r\n        phase: randomNumFrom(0, 10)\r\n      };\r\n      break;\r\n  }\r\n}\r\n\r\nfunction randomSidePos(length) {\r\n  return Math.ceil(Math.random() * length);\r\n}\r\n\r\n// Draw Ball\r\nfunction renderBalls() {\r\n  Array.prototype.forEach.call(balls, function(b) {\r\n    if (!b.hasOwnProperty(\"type\")) {\r\n      ctx.fillStyle =\r\n        \"rgba(\" +\r\n        ball_color.r +\r\n        \",\" +\r\n        ball_color.g +\r\n        \",\" +\r\n        ball_color.b +\r\n        \",\" +\r\n        b.alpha +\r\n        \")\";\r\n      ctx.beginPath();\r\n      ctx.arc(b.x, b.y, R, 0, Math.PI * 2, true);\r\n      ctx.closePath();\r\n      ctx.fill();\r\n    }\r\n  });\r\n}\r\n\r\n// Update balls\r\nfunction updateBalls() {\r\n  var new_balls = [];\r\n  Array.prototype.forEach.call(balls, function(b) {\r\n    b.x += b.vx;\r\n    b.y += b.vy;\r\n\r\n    if (b.x > -50 && b.x < can_w + 50 && b.y > -50 && b.y < can_h + 50) {\r\n      new_balls.push(b);\r\n    }\r\n\r\n    // alpha change\r\n    b.phase += alpha_f;\r\n    b.alpha = Math.abs(Math.cos(b.phase));\r\n    // console.log(b.alpha);\r\n  });\r\n\r\n  balls = new_balls.slice(0);\r\n}\r\n\r\n// loop alpha\r\nfunction loopAlphaInf() {}\r\n\r\n// Draw lines\r\nfunction renderLines() {\r\n  var fraction, alpha;\r\n  for (var i = 0; i < balls.length; i++) {\r\n    for (var j = i + 1; j < balls.length; j++) {\r\n      fraction = getDisOf(balls[i], balls[j]) / dis_limit;\r\n\r\n      if (fraction < 1) {\r\n        alpha = (1 - fraction).toString();\r\n\r\n        ctx.strokeStyle = \"rgba(150,150,150,\" + alpha + \")\";\r\n        ctx.lineWidth = link_line_width;\r\n\r\n        ctx.beginPath();\r\n        ctx.moveTo(balls[i].x, balls[i].y);\r\n        ctx.lineTo(balls[j].x, balls[j].y);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// calculate distance between two points\r\nfunction getDisOf(b1, b2) {\r\n  var delta_x = Math.abs(b1.x - b2.x),\r\n    delta_y = Math.abs(b1.y - b2.y);\r\n\r\n  return Math.sqrt(delta_x * delta_x + delta_y * delta_y);\r\n}\r\n\r\n// add balls if there a little balls\r\nfunction addBallIfy() {\r\n  if (balls.length < 20) {\r\n    balls.push(getRandomBall());\r\n  }\r\n}\r\n\r\n// Render\r\nfunction render() {\r\n  ctx.clearRect(0, 0, can_w, can_h);\r\n\r\n  renderBalls();\r\n\r\n  renderLines();\r\n\r\n  updateBalls();\r\n\r\n  addBallIfy();\r\n\r\n  window.requestAnimationFrame(render);\r\n}\r\n\r\n// Init Balls\r\nfunction initBalls(num) {\r\n  for (var i = 1; i <= num; i++) {\r\n    balls.push({\r\n      x: randomSidePos(can_w),\r\n      y: randomSidePos(can_h),\r\n      vx: getRandomSpeed(\"top\")[0],\r\n      vy: getRandomSpeed(\"top\")[1],\r\n      r: R,\r\n      alpha: 1,\r\n      phase: randomNumFrom(0, 10)\r\n    });\r\n  }\r\n}\r\n// Init Canvas\r\nfunction initCanvas() {\r\n  canvas.setAttribute(\"width\", window.innerWidth);\r\n  canvas.setAttribute(\"height\", window.innerHeight);\r\n\r\n  can_w = parseInt(canvas.getAttribute(\"width\"));\r\n  can_h = parseInt(canvas.getAttribute(\"height\"));\r\n}\r\nwindow.addEventListener(\"resize\", function(e) {\r\n  console.log(\"Window Resize...\");\r\n  initCanvas();\r\n});\r\n\r\nfunction goMovie() {\r\n  initCanvas();\r\n  initBalls(30);\r\n  window.requestAnimationFrame(render);\r\n}\r\ngoMovie();\r\n\r\n// Mouse effect\r\ncanvas.addEventListener(\"mouseenter\", function() {\r\n  console.log(\"mouseenter\");\r\n  mouse_in = true;\r\n  balls.push(mouse_ball);\r\n});\r\ncanvas.addEventListener(\"mouseleave\", function() {\r\n  console.log(\"mouseleave\");\r\n  mouse_in = false;\r\n  var new_balls = [];\r\n  Array.prototype.forEach.call(balls, function(b) {\r\n    if (!b.hasOwnProperty(\"type\")) {\r\n      new_balls.push(b);\r\n    }\r\n  });\r\n  balls = new_balls.slice(0);\r\n});\r\ncanvas.addEventListener(\"mousemove\", function(e) {\r\n  var e = e || window.event;\r\n  mouse_ball.x = e.pageX;\r\n  mouse_ball.y = e.pageY;\r\n  // console.log(mouse_ball);\r\n});"]}