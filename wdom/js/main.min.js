"use strict";!function(){var e=document.querySelector(".mob-navigation"),t=e.querySelector(".mob-navigation__toggle"),n=e.querySelector(".mob-navigation__inner");t.addEventListener("click",function(e){e.preventDefault(),n.classList.add("active"),n.classList.remove("closed")}),e.querySelectorAll(".mob-navigation a").forEach(function(t){t.addEventListener("click",function(e){t.nextElementSibling&&!t.classList.contains("logo")&&(e.preventDefault(),t.nextElementSibling.classList.toggle("active"))})}),e.querySelector(".mob-navigation__closed").addEventListener("click",function(e){e.preventDefault(),n.classList.remove("active"),n.classList.add("closed")})}(),function(){var e=document.querySelectorAll(".navigation__link"),i=document.querySelectorAll(".sidemenu__inner-menu"),o=document.querySelector(".sidemenu__inner");e.forEach(function(e){e.addEventListener("click",function(e){for(var t=this.parentElement.getAttribute("data-item"),n=0;n<i.length;n++){i[n].classList.remove("sidemenu__inner-menu--active"),t==i[n].getAttribute("data-item")&&(e.preventDefault(),o.classList.add("visible"),document.querySelector("body").classList.add("overlay"),document.querySelector(".sidemenu__inner-menu[data-item='"+t+"']").classList.add("sidemenu__inner-menu--active"))}})}),document.querySelectorAll(".sidemenu__inner-link").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault(),n.classList.toggle("active");var t=n.nextElementSibling;t&&t.classList.toggle("active")})});var t=document.querySelector(".js-btn-close");t&&t.addEventListener("click",function(e){e.preventDefault(),o.classList.remove("visible"),document.querySelector("body").classList.remove("overlay")})}(),document.querySelectorAll(".page-footer__list-link").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),t.parentElement.classList.toggle("active")})}),document.addEventListener("DOMContentLoaded",function(e){document.querySelectorAll(".page-footer__list-item").forEach(function(e){e.classList.add("active")}),window.onresize=function(){!function(){var e=document.querySelectorAll(".page-footer__list-item");600<window.outerWidth?e.forEach(function(e){e.classList.add("active")}):e.forEach(function(e){e.classList.remove("active")})}()}}),document.querySelectorAll(".page-section__link span").forEach(function(e){e&&window.outerWidth<600&&(e.innerHTML="Ещё")}),document.querySelectorAll(".block-preview__text").forEach(function(e){if(128<=e.innerText.length){var t=e.innerText.substring(0,128);console.log(t);var n=t.lastIndexOf(" ");return t=e.innerText.substring(0,n)+"...",e.innerText=t}});var inputs=document.querySelectorAll(".page-form__inputfile");Array.prototype.forEach.call(inputs,function(e){var n=e.nextElementSibling,i=n.innerText;e.addEventListener("change",function(e){var t="";t=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop(),n.innerText=t||i}),e.addEventListener("focus",function(){e.classList.add("has-focus")}),e.addEventListener("blur",function(){e.classList.remove("has-focus")})});var popups=document.querySelectorAll(".popup"),popupOverlay=document.querySelector(".popup-overlay"),popupBtnClose=document.querySelector(".popup-close"),wrapper=document.querySelector(".wrapper"),popupOpenBtns=document.querySelectorAll(".js-popup-btn");popupOpenBtns.forEach(function(i){i.addEventListener("click",function(e){e.preventDefault();for(var t=i.getAttribute("data-target"),n=0;n<popups.length;n++){popups[n].classList.remove("popup-show"),t==popups[n].getAttribute("data-target")&&(popupOverlay.classList.add("popup-show"),document.querySelector("body").classList.add("overlay"),popupBtnClose.addEventListener("click",function(e){e.preventDefault(),popupOverlay.classList.remove("popup-show"),document.querySelector("body").classList.remove("overlay")}))}})}),function(){for(var e=[{id:"#js-slider-web",slideCount:4,loopedSlidesCount:1,slidesPerView320:1.5,slidesPerView640:2,slidesPerView1200:3},{id:"#js-slider-design",slideCount:4,loopedSlidesCount:1,slidesPerView320:1.5,slidesPerView640:2,slidesPerView1200:3},{id:"#js-slider-video",slideCount:3,loopedSlidesCount:3,slidesPerView320:1.5,slidesPerView640:2,slidesPerView1200:3},{id:"#js-slider-news",slideCount:4,loopedSlidesCount:1,slidesPerView320:1.5,slidesPerView640:2,slidesPerView1200:3},{id:"#js-slider-jobs",slideCount:4,loopedSlidesCount:4,slidesPerView320:1.5,slidesPerView640:2,slidesPerView1200:3},{id:"#js-slider-history",slideCount:2,loopedSlidesCount:4,slidesPerView320:1,slidesPerView640:1,slidesPerView1200:1}],t=0;t<e.length;t++){var n=e[t];new Swiper(n.id,{direction:"horizontal",slidesPerView:n.slideCount,spaceBetween:15,loop:!1,freeMode:!0,spaceBetween:10,speed:700,loopedSlides:n.loopedSlidesCount,breakpoints:{320:{slidesPerView:n.slidesPerView320,spaceBetween:10},480:{slidesPerView:1,spaceBetween:20},640:{slidesPerView:e.slidesPerView640,spaceBetween:15},1200:{slidesPerView:e.slidesPerView1200,spaceBetween:15}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}new Swiper("#js-slider-service",{direction:"horizontal",slidesPerView:1,spaceBetween:15,loop:!1,freeMode:!0,spaceBetween:10,speed:700,loopedSlides:1,breakpoints:{320:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:1,spaceBetween:20},640:{slidesPerView:1,spaceBetween:15},1200:{slidesPerView:1,spaceBetween:15}},effect:"fade",parallax:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var i=[{id:"#js-slider-web-1",slidesPerView:4,slidesPerViewMob:1.5,spaceBetweenMob:20},{id:"#js-slider-web-2",slidesPerView:4,slidesPerViewMob:1.5,spaceBetweenMob:20},{id:"#js-slider-web-3",slidesPerView:4,slidesPerViewMob:1.5,spaceBetweenMob:20},{id:"#js-slider-web-4",slidesPerView:4,slidesPerViewMob:1.5,spaceBetweenMob:20},{id:"#js-slider-web-5",slidesPerView:4,slidesPerViewMob:1.5,spaceBetweenMob:20},{id:"#js-slider-web-6",slidesPerView:4,slidesPerViewMob:1.5,spaceBetweenMob:20}];for(t=0;t<i.length;t++){n=i[t];var o=void 0,s=function(){window.outerWidth<992&&null==o?o=new Swiper(n.id,{direction:"horizontal",slidesPerView:i.slidesPerView,spaceBetween:15,loop:!1,freeMode:!0,speed:700,loopedSlides:1,breakpoints:{320:{slidesPerView:i.slidesPerViewMob,spaceBetween:i.spaceBetweenMob},480:{slidesPerView:1,spaceBetween:20},640:{slidesPerView:2,spaceBetween:15},1200:{slidesPerView:3,spaceBetween:15}},calculateHeight:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}):991<window.outerWidth&&null!=o&&(o.destroy(),o=void 0,document.querySelector(".swiper-wrapper").removeAttr("style"),document.querySelector(".swiper-slide").removeAttr("style"))};s(),window.onresize=function(){s()}}}(),document.querySelectorAll(".js-tab-trigger").forEach(function(o){o.addEventListener("click",function(){var e=this.getAttribute("data-tab"),t=document.querySelector('.js-tab-content[data-tab="'+e+'"]'),n=document.querySelector(".js-tab-trigger.active"),i=document.querySelector(".js-tab-content.active");n.classList.remove("active"),o.classList.add("active"),i.classList.remove("active"),t.classList.add("active")})});var canvas=document.getElementById("nokey"),can_w=parseInt(canvas.getAttribute("width")),can_h=parseInt(canvas.getAttribute("height")),ctx=canvas.getContext("2d"),ball={x:0,y:0,vx:0,vy:0,r:0,alpha:1,phase:0},ball_color={r:230,g:230,b:230},R=6,balls=[],alpha_f=.03,alpha_phase=0,link_line_width=.8,dis_limit=360,add_mouse_point=!0,mouse_in=!1,mouse_ball={x:0,y:0,vx:0,vy:0,r:0,type:"mouse"};function getRandomSpeed(e){switch(e){case"top":return[randomNumFrom(-1,1),randomNumFrom(.1,1)];case"right":return[randomNumFrom(-1,-.1),randomNumFrom(-1,1)];case"bottom":return[randomNumFrom(-1,1),randomNumFrom(-1,-.1)];case"left":return[randomNumFrom(.1,1),randomNumFrom(-1,1)];default:return}}function randomArrayItem(e){return e[Math.floor(Math.random()*e.length)]}function randomNumFrom(e,t){return Math.random()*(t-e)+e}function getRandomBall(){switch(randomArrayItem(["top","right","bottom","left"])){case"top":return{x:randomSidePos(can_w),y:-R,vx:getRandomSpeed("top")[0],vy:getRandomSpeed("top")[1],r:R,alpha:1,phase:randomNumFrom(0,10)};case"right":return{x:can_w+R,y:randomSidePos(can_h),vx:getRandomSpeed("right")[0],vy:getRandomSpeed("right")[1],r:R,alpha:1,phase:randomNumFrom(0,10)};case"bottom":return{x:randomSidePos(can_w),y:can_h+R,vx:getRandomSpeed("bottom")[0],vy:getRandomSpeed("bottom")[1],r:R,alpha:1,phase:randomNumFrom(0,10)};case"left":return{x:-R,y:randomSidePos(can_h),vx:getRandomSpeed("left")[0],vy:getRandomSpeed("left")[1],r:R,alpha:1,phase:randomNumFrom(0,10)}}}function randomSidePos(e){return Math.ceil(Math.random()*e)}function renderBalls(){Array.prototype.forEach.call(balls,function(e){e.hasOwnProperty("type")||(ctx.fillStyle="rgba("+ball_color.r+","+ball_color.g+","+ball_color.b+","+e.alpha+")",ctx.beginPath(),ctx.arc(e.x,e.y,R,0,2*Math.PI,!0),ctx.closePath(),ctx.fill())})}function updateBalls(){var t=[];Array.prototype.forEach.call(balls,function(e){e.x+=e.vx,e.y+=e.vy,-50<e.x&&e.x<can_w+50&&-50<e.y&&e.y<can_h+50&&t.push(e),e.phase+=alpha_f,e.alpha=Math.abs(Math.cos(e.phase))}),balls=t.slice(0)}function loopAlphaInf(){}function renderLines(){for(var e,t,n=0;n<balls.length;n++)for(var i=n+1;i<balls.length;i++)(e=getDisOf(balls[n],balls[i])/dis_limit)<1&&(t=(1-e).toString(),ctx.strokeStyle="rgba(150,150,150,"+t+")",ctx.lineWidth=link_line_width,ctx.beginPath(),ctx.moveTo(balls[n].x,balls[n].y),ctx.lineTo(balls[i].x,balls[i].y),ctx.stroke(),ctx.closePath())}function getDisOf(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)}function addBallIfy(){balls.length<20&&balls.push(getRandomBall())}function render(){ctx.clearRect(0,0,can_w,can_h),renderBalls(),renderLines(),updateBalls(),addBallIfy(),window.requestAnimationFrame(render)}function initBalls(e){for(var t=1;t<=e;t++)balls.push({x:randomSidePos(can_w),y:randomSidePos(can_h),vx:getRandomSpeed("top")[0],vy:getRandomSpeed("top")[1],r:R,alpha:1,phase:randomNumFrom(0,10)})}function initCanvas(){canvas.setAttribute("width",window.innerWidth),canvas.setAttribute("height",window.innerHeight),can_w=parseInt(canvas.getAttribute("width")),can_h=parseInt(canvas.getAttribute("height"))}function goMovie(){initCanvas(),initBalls(30),window.requestAnimationFrame(render)}console.log(randomNumFrom(0,10)),window.addEventListener("resize",function(e){console.log("Window Resize..."),initCanvas()}),goMovie(),canvas.addEventListener("mouseenter",function(){console.log("mouseenter"),mouse_in=!0,balls.push(mouse_ball)}),canvas.addEventListener("mouseleave",function(){console.log("mouseleave"),mouse_in=!1;var t=[];Array.prototype.forEach.call(balls,function(e){e.hasOwnProperty("type")||t.push(e)}),balls=t.slice(0)}),canvas.addEventListener("mousemove",function(e){e=e||window.event;mouse_ball.x=e.pageX,mouse_ball.y=e.pageY});
//# sourceMappingURL=main.min.js.map
