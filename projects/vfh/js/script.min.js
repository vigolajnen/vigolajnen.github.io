
// mob menu

export let mobileMenuToggle = () => {
  const page = document.querySelector('.page');
  const btnMenuOpen = document.querySelector('.page-header__btn-menu');
  const btnMenuOpenClose = document.querySelector('.mobile-menu__btn-close');
  const headerTop = document.querySelector('.page-header');
  const mobMenu = document.querySelector('.mobile-menu');

  if (btnMenuOpen) {
    btnMenuOpen.addEventListener('click', function() {
      headerTop.classList.add('page-header--mob');
      page.classList.add('page--overlay');
      mobMenu.classList.add('active');
    });
  }

  if (btnMenuOpenClose) {
    btnMenuOpenClose.addEventListener('click', function() {
      headerTop.classList.remove('page-header--mob');
      page.classList.remove('page--overlay');
      mobMenu.classList.remove('active');
    });
  }

  if (mobMenu) {
    mobMenu.addEventListener('click', () => {
      mobMenu.classList.remove('active');
    });
  }

  window.onresize = function() {
    if (window.screen.width > 768) {
      document.querySelector('.page').classList.remove('page--overlay');
      if (headerTop.classList.contains('page-header--mob')) {
        headerTop.classList.remove('page-header--mob');
      }
    }
  };
};

export let navCityToggle = () => {
  const city = document.querySelector('.nav-city__title');
  const cityName = document.querySelector('.nav-city__title span');
  const cityList = document.querySelector('.nav-city__wrapper');

  if (city) {
    city.addEventListener('click', evt => {
      cityList.classList.toggle('d-block');
      cityList.classList.toggle('d-none');
    });
  }

  if (cityList) {
    cityList.addEventListener('click', evt => {
      evt.preventDefault();
      let activeNameCity = evt.target.innerText;
      cityName.innerText = activeNameCity;
      cityList.classList.toggle('d-block');
      cityList.classList.toggle('d-none');
    });
  }
};

mobileMenuToggle();

navCityToggle();



