{"version":3,"sources":["main.min.js"],"names":["up","smooth","Math","max","document","body","scrollTop","documentElement","behavior","window","scrollBy","top","left","navBtn","querySelector","navInner","addEventListener","evt","preventDefault","console","log","classList","contains","remove","add","toggle","Swiper","autoplay","delay","effect","$","collapse","scrollBtns","querySelectorAll","init","myMap","ymaps","Map","center","zoom","searchControlProvider","menu","i","l","groups","length","createMenuGroup","group","menuItem","name","collection","GeoObjectCollection","preset","style","submenu","geoObjects","append","appendTo","find","bind","getParent","hide","show","j","m","items","createSubMenu","item","submenuItem","address","phone","placemark","Placemark","balloonContent","balloon","isOpen","close","open","setBounds","getBounds","forEach","btn","daterangepicker","singleDatePicker","showDropdowns","minYear","locale","format","separator","applyLabel","cancelLabel","fromLabel","toLabel","customRangeLabel","daysOfWeek","monthNames","firstDay","maxYear","parseInt","moment","start","end","label","diff","autoUpdateInput","on","ev","picker","this","val","startDate","endDate","fields","submitBtn","field","hideHandler","target","listOptions","toggleListOptions","isActiv","removeEventListener","parentElement","nextElementSibling","stopPropagation","targetName","event","innerText","value","focused","activeOption","location","href","click","count","text","e","elem","innerHTML","checkCountChild","onclick","Array","from","adult","children","childCounter","el","push","join","css","display","margin-top","padding-right","opacity","removeClass","ready"],"mappings":"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","file":"main.min.js","sourcesContent":["\r\n\"use strict\";\r\n\r\n// Импортируем другие js-файлы\r\n\r\n\r\n\r\n(function() {\r\n  var nav = document.querySelector(\".navigation\");\r\n  var navBtn = nav.querySelector(\".navigation--opened\");\r\n  var navInner = document.querySelector(\".navigation__items\");\r\n\r\n  navBtn.addEventListener(\"click\", function(evt) {\r\n    evt.preventDefault();\r\n    console.log(navBtn);\r\n    if (navBtn.classList.contains(\"navigation--opened\")) {\r\n      navBtn.classList.remove(\"navigation--opened\");\r\n      navBtn.classList.add(\"navigation--closed\");\r\n    } else {\r\n      navBtn.classList.add(\"navigation--opened\");\r\n      navBtn.classList.remove(\"navigation--closed\");\r\n    }\r\n\r\n    if (navInner.classList.contains(\"active\")) {\r\n      navInner.classList.remove(\"active\");\r\n      navInner.classList.add(\"closed\");\r\n    } else {\r\n      navInner.classList.add(\"active\");\r\n      navInner.classList.remove(\"closed\");\r\n    }\r\n\r\n    document.querySelector(\"body\").classList.toggle(\"overlay\");\r\n  });\r\n\r\n})();\r\n(function () {\r\n  var mySwiper = new Swiper('.swiper-container', {\r\n    autoplay: {\r\n      delay: 5000,\r\n    },\r\n    effect: 'fade',\r\n\r\n  });\r\n})();\r\n(function() {\r\n  $('.collapse').collapse('show');\r\n})();\r\n\r\nfunction up(smooth) {\r\n  var top = Math.max(\r\n    document.body.scrollTop,\r\n    document.documentElement.scrollTop\r\n  );\r\n  if (top > -1) {\r\n    var behavior = smooth ? \"smooth\" : \"auto\";\r\n    window.scrollBy({ behavior: behavior, top: 600, left: 0 });\r\n  }\r\n  return false;\r\n}\r\n\r\nvar scrollBtns = document.querySelectorAll(\".section__btn\");\r\nscrollBtns.forEach(function (btn) {\r\n  btn.addEventListener(\"click\", function (evt) {\r\n    evt.preventDefault();\r\n    up(true);\r\n  });\r\n});\r\n\r\n\r\n// форма поиска туров\r\n(function () {\r\n\r\n\r\n\r\n  $(function () {\r\n    $('input[name=\"birthday\"]').daterangepicker(\r\n      {\r\n        singleDatePicker: true,\r\n        showDropdowns: true,\r\n        minYear: 1901,\r\n        locale: {\r\n          format: \"MM/DD/YYYY\",\r\n          separator: \" - \",\r\n          applyLabel: \"Применить\",\r\n          cancelLabel: \"Отмена\",\r\n          fromLabel: \"От\",\r\n          toLabel: \"До\",\r\n          customRangeLabel: \"Свой\",\r\n          daysOfWeek: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\r\n          monthNames: [\r\n            \"Январь\",\r\n            \"Февраль\",\r\n            \"Март\",\r\n            \"Апрель\",\r\n            \"Май\",\r\n            \"Июнь\",\r\n            \"Июль\",\r\n            \"Август\",\r\n            \"Сентябрь\",\r\n            \"Октябрь\",\r\n            \"Ноябрь\",\r\n            \"Декабрь\"\r\n          ],\r\n          firstDay: 1\r\n        },\r\n        maxYear: parseInt(moment().format(\"YYYY\"), 10)\r\n      },\r\n      function (start, end, label) {\r\n        var years = moment().diff(start, \"years\");\r\n        // alert(\"You are \" + years + \" years old!\");\r\n      }\r\n    );\r\n  });\r\n  $(function () {\r\n    $('input[name=\"passport-date-1\"]').daterangepicker(\r\n      {\r\n        singleDatePicker: true,\r\n        showDropdowns: true,\r\n        minYear: 1901,\r\n        locale: {\r\n          format: \"MM/DD/YYYY\",\r\n          separator: \" - \",\r\n          applyLabel: \"Применить\",\r\n          cancelLabel: \"Отмена\",\r\n          fromLabel: \"От\",\r\n          toLabel: \"До\",\r\n          customRangeLabel: \"Свой\",\r\n          daysOfWeek: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\r\n          monthNames: [\r\n            \"Январь\",\r\n            \"Февраль\",\r\n            \"Март\",\r\n            \"Апрель\",\r\n            \"Май\",\r\n            \"Июнь\",\r\n            \"Июль\",\r\n            \"Август\",\r\n            \"Сентябрь\",\r\n            \"Октябрь\",\r\n            \"Ноябрь\",\r\n            \"Декабрь\"\r\n          ],\r\n          firstDay: 1\r\n        },\r\n        maxYear: parseInt(moment().format(\"YYYY\"), 10)\r\n      },\r\n      function (start, end, label) {\r\n        var years = moment().diff(start, \"years\");\r\n        // alert(\"You are \" + years + \" years old!\");\r\n      }\r\n    );\r\n  });\r\n  $(function () {\r\n    $('input[name=\"passport-date-2\"]').daterangepicker(\r\n      {\r\n        singleDatePicker: true,\r\n        showDropdowns: true,\r\n        minYear: 1901,\r\n        locale: {\r\n          format: \"MM/DD/YYYY\",\r\n          separator: \" - \",\r\n          applyLabel: \"Применить\",\r\n          cancelLabel: \"Отмена\",\r\n          fromLabel: \"От\",\r\n          toLabel: \"До\",\r\n          customRangeLabel: \"Свой\",\r\n          daysOfWeek: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\r\n          monthNames: [\r\n            \"Январь\",\r\n            \"Февраль\",\r\n            \"Март\",\r\n            \"Апрель\",\r\n            \"Май\",\r\n            \"Июнь\",\r\n            \"Июль\",\r\n            \"Август\",\r\n            \"Сентябрь\",\r\n            \"Октябрь\",\r\n            \"Ноябрь\",\r\n            \"Декабрь\"\r\n          ],\r\n          firstDay: 1\r\n        },\r\n        maxYear: parseInt(moment().format(\"YYYY\"), 10)\r\n      },\r\n      function (start, end, label) {\r\n        var years = moment().diff(start, \"years\");\r\n        // alert(\"You are \" + years + \" years old!\");\r\n      }\r\n    );\r\n  });\r\n\r\n  $(function () {\r\n    $('input[name=\"datefilter\"]').daterangepicker({\r\n      autoUpdateInput: false,\r\n      locale: {\r\n        format: \"MM/DD/YYYY\",\r\n        separator: \" - \",\r\n        applyLabel: \"Применить\",\r\n        cancelLabel: \"Отмена\",\r\n        fromLabel: \"От\",\r\n        toLabel: \"До\",\r\n        customRangeLabel: \"Свой\",\r\n        daysOfWeek: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\r\n        monthNames: [\r\n          \"Январь\",\r\n          \"Февраль\",\r\n          \"Март\",\r\n          \"Апрель\",\r\n          \"Май\",\r\n          \"Июнь\",\r\n          \"Июль\",\r\n          \"Август\",\r\n          \"Сентябрь\",\r\n          \"Октябрь\",\r\n          \"Ноябрь\",\r\n          \"Декабрь\"\r\n        ],\r\n        firstDay: 1\r\n      }\r\n    });\r\n\r\n    $('input[name=\"datefilter\"]').on(\"apply.daterangepicker\", function (\r\n      ev,\r\n      picker\r\n    ) {\r\n      $(this).val(\r\n        picker.startDate.format(\"MM/DD/YYYY\") +\r\n        \" - \" +\r\n        picker.endDate.format(\"MM/DD/YYYY\")\r\n      );\r\n    });\r\n\r\n    $('input[name=\"datefilter\"]').on(\"cancel.daterangepicker\", function (\r\n      ev,\r\n      picker\r\n    ) {\r\n      $(this).val(\"\");\r\n    });\r\n    $(\".search-form__btn-del\").on(\"cancel.daterangepicker\", function (\r\n      ev,\r\n      picker\r\n    ) {\r\n      $(this).val(\"\");\r\n    });\r\n  });\r\n})(); /* IIFE end */\r\n\r\n\r\n(function () {\r\n  var fields = document.querySelectorAll('input[name^=\"js-\"]'),\r\n    submitBtn = document.querySelector(\".search-form__btn-submit\");\r\n\r\n  if (fields) {\r\n    fields.forEach(function (field) {\r\n\r\n      function hideHandler(evt) {\r\n        console.log(evt.target == field);\r\n        console.log(evt.target == listOptions);\r\n        if (evt.target == field || evt.target == listOptions) return;\r\n\r\n        toggleListOptions(false);\r\n      }\r\n\r\n      function toggleListOptions(isActiv) {\r\n        if (isActiv) {\r\n          listOptions.classList.add(\"active\");\r\n          listOptions.classList.remove(\"closed\");\r\n          document.addEventListener('click', hideHandler);\r\n        } else {\r\n          listOptions.classList.remove(\"active\");\r\n          listOptions.classList.add(\"closed\");\r\n          document.removeEventListener('click', hideHandler);\r\n        }\r\n      }\r\n\r\n      var listOptions = field.parentElement.parentElement.nextElementSibling;\r\n      listOptions.addEventListener(\"click\", function (evt) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n\r\n        var targetName = event.target.innerText;\r\n\r\n        field.value = targetName;\r\n\r\n        toggleListOptions(false);\r\n\r\n        return field.value;\r\n      });\r\n\r\n      field.addEventListener(\"focus\", function (evt) {\r\n        field.focused = true;\r\n\r\n        var activeOption = document.querySelector('.search-form__options.active');\r\n        if (activeOption) {\r\n          activeOption.classList.add('closed');\r\n          activeOption.classList.remove('active');\r\n        }\r\n\r\n        toggleListOptions(true);\r\n\r\n      });\r\n    });\r\n  }\r\n  if (submitBtn) {\r\n    submitBtn.addEventListener('click', function (evt) {\r\n      evt.preventDefault();\r\n      document.location.href = \"#\";\r\n    });\r\n  }\r\n\r\n\r\n})();\r\n(function(){\r\n\r\n  $('body').append($('.modal'));\r\n\r\n  // Модальное окно с выбором туристов\r\n  $('.modal-backdrop').hide();\r\n\r\n  $('.tc_TouristContentMinus').click(function () {\r\n    var count = $('.tc_valAdults').text();\r\n    if (count >= 2) {\r\n      count--; var count = $('.tc_valAdults').text(count);\r\n    }\r\n  });\r\n  $('.tc_TouristContentPlus').click(function () {\r\n    var count = $('.tc_valAdults').text();\r\n    if (count <= 5) {\r\n      count++; var count = $('.tc_valAdults').text(count);\r\n    }\r\n  });\r\n\r\n  $('.tc_addChild').click(function () {\r\n    $('.tc_TouristButton .tc_pickAge').show();\r\n    $('.tc_TouristPickElement').show();\r\n    $('.tc_ButtonActive').hide();\r\n  });\r\n\r\n  $('.tc_TouristPickElement').hide();\r\n\r\n  $('.tc_TouristButton .tc_pickAge').click(function (e) {\r\n    var elem = \" \" + e.target.innerHTML;\r\n    console.log(elem);\r\n\r\n    $('.tc_TouristStatic').append('<div class=\"tc_TouristElement tc_child\"><div class=\"tc_TouristAction tc_TouristActionMinus\"><div class=\"tc_TouristContentMinus tc_symbol\"> - </div></div> <div class=\"tc_TouristCount tc_TouristAll\">Ребёнок&ensp;<span class=\"tc_childCount\">' + elem + '</span></div></div>');\r\n\r\n\r\n    $('.tc_TouristButton .tc_pickAge').hide();\r\n    $('.tc_TouristPickElement').hide();\r\n    $('.tc_addChild').show();\r\n    $('.tc_ButtonActive').show();\r\n    checkCountChild();\r\n  }).hide();\r\n\r\n  var checkCountChild = function () {\r\n    var children = document.querySelectorAll('.tc_child');\r\n    if (children.length >= 3) $('.tc_addChild').hide();\r\n    else $('.tc_addChild').show();\r\n  };\r\n\r\n  document.onclick = function () {\r\n    var div = Array.from(document.querySelectorAll('.tc_child'));\r\n    div.forEach(function(e){\r\n      e.onclick = function () {\r\n        this.remove();\r\n      }\r\n    });\r\n\r\n    checkCountChild();\r\n  }\r\n\r\n  $('.tc_ButtonActive').click(function () {\r\n    var adult = $('.tc_valAdults').text();\r\n\r\n    var children = document.querySelectorAll('.tc_childCount');\r\n    var childCounter = [];\r\n    children.forEach(function(el){\r\n      childCounter.push(parseInt(el.innerText));\r\n    });\r\n\r\n    childCounter = childCounter.join(',');\r\n    if (children.length != 0) {\r\n      $('.formValAdult').val(adult);\r\n      $('.formValChild').val(children.length);\r\n      $('.formValYears').val(childCounter);\r\n      $('#search-form-tourists').text(adult + ' взр. ' + children.length + ' реб.');\r\n    }\r\n    else if (adult == 1) {\r\n      $('.formValAdult').val(adult);\r\n      $('.formValChild').val(0);\r\n      $('#search-form-tourists').text(adult + ' взрослый');\r\n    }\r\n    else {\r\n      $('.formValAdult').val(adult);\r\n      $('.formValChild').val(0);\r\n      $('#search-form-tourists').text(adult + ' взрослых');\r\n    }\r\n\r\n\r\n    $('#w1').css({ 'display': 'none', 'margin-top': '50px', 'padding-right': '0px', 'opacity': '1' });\r\n    $('#w1').removeClass('in');\r\n    $('body').css({ 'padding-right': '0px' });\r\n    $('body').removeClass('modal-open');\r\n    $('.modal').removeClass('show');\r\n\r\n    console.log(childCounter);\r\n\r\n  });\r\n\r\n\r\n\r\n})();\r\n\r\n// карта с адресами офисов\r\n\r\n\r\n\r\nymaps.ready(init);\r\n\r\nfunction init() {\r\n\r\n  // Создание экземпляра карты.\r\n  var myMap = new ymaps.Map('YMaps07', {\r\n    center: [59.932473, 30.349142],\r\n    zoom: 5\r\n  }, {\r\n    searchControlProvider: 'yandex#search'\r\n  }),\r\n    // Контейнер для меню.\r\n    menu = $('<ul class=\"list-unstyled\"></ul>');\r\n\r\n\r\n  for (var i = 0, l = groups.length; i < l; i++) {\r\n    createMenuGroup(groups[i]);\r\n  }\r\n\r\n  function createMenuGroup(group) {\r\n    // Пункт меню.\r\n    var menuItem = $('<li class=\"mb-4\"><a href=\"#\">' + group.name + '</a></li>'),\r\n      // Коллекция для геообъектов группы.\r\n      collection = new ymaps.GeoObjectCollection(null, { preset: group.style }),\r\n      // Контейнер для подменю.\r\n      submenu = $('<ul class=\"list-unstyled\"></ul>');\r\n\r\n    // Добавляем коллекцию на карту.\r\n    myMap.geoObjects.add(collection);\r\n    // Добавляем подменю.\r\n    menuItem\r\n      .append(submenu)\r\n      // Добавляем пункт в меню.\r\n      .appendTo(menu)\r\n      // По клику удаляем/добавляем коллекцию на карту и скрываем/отображаем подменю.\r\n      .find('a')\r\n      .bind('click', function () {\r\n        if (collection.getParent()) {\r\n          myMap.geoObjects.remove(collection);\r\n          submenu.hide();\r\n        } else {\r\n          myMap.geoObjects.add(collection);\r\n          submenu.show();\r\n        }\r\n      });\r\n    for (var j = 0, m = group.items.length; j < m; j++) {\r\n      createSubMenu(group.items[j], collection, submenu);\r\n    }\r\n  }\r\n\r\n  function createSubMenu(item, collection, submenu) {\r\n    // Пункт подменю.\r\n    var submenuItem = $('<li class=\"mb-4 px-md-4\"><a class=\"d-block link mb-2 h4 link\" href=\"#\">' + item.name + '</a><span class=\"d-block text-dark\">' + item.address + '</span><a class=\"text-dark\" href=\"tel:' + item.phone + '\">' + item.phone + '</a></li>'),\r\n      // Создаем метку.\r\n      placemark = new ymaps.Placemark(item.center, { balloonContent: item.address });\r\n\r\n    // Добавляем метку в коллекцию.\r\n    collection.add(placemark);\r\n    // Добавляем пункт в подменю.\r\n    submenuItem\r\n      .appendTo(submenu)\r\n      // При клике по пункту подменю открываем/закрываем баллун у метки.\r\n      .find('a')\r\n      .bind('click', function () {\r\n        if (!placemark.balloon.isOpen()) {\r\n          placemark.balloon.open();\r\n        } else {\r\n          placemark.balloon.close();\r\n        }\r\n        return false;\r\n      });\r\n  }\r\n\r\n  // Добавляем меню в тэг BODY.\r\n  menu.appendTo($('.contacts__info'));\r\n  // Выставляем масштаб карты чтобы были видны все группы.\r\n  myMap.setBounds(myMap.geoObjects.getBounds());\r\n}\r\n\r\n\r\n\r\n// Группы объектов\r\nvar groups = [\r\n  {\r\n    name: \"\",\r\n    style: \"islands#redIcon\",\r\n    items: [\r\n      {\r\n        center: [59.936300, 30.316757],\r\n        name: \"Офис у м.Невский проспект\",\r\n        address: \"Невский проспект, д.13\",\r\n        phone: \"+7(812) 222-33-44\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"\",\r\n    style: \"islands#greenIcon\",\r\n    items: [\r\n      {\r\n        center: [59.936805, 30.316263],\r\n        name: \"Офис у м.Невский проспект\",\r\n        address: \"Невский проспект, д.14\",\r\n        phone: \"+7(812) 222-33-44\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"\",\r\n    style: \"islands#orangeIcon\",\r\n    items: [\r\n      {\r\n        center: [59.936138, 30.318204],\r\n        name: \"Офис у м.Невский проспект\",\r\n        address: \"Невский проспект, д.15\",\r\n        phone: \"+7(812) 222-33-44\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name: \"\",\r\n    style: \"islands#blueIcon\",\r\n    items: [\r\n      {\r\n        center: [59.936733, 30.316973],\r\n        name: \"Офис у м.Невский проспект\",\r\n        address: \"Невский проспект, д.16\",\r\n        phone: \"+7(812) 222-33-44\"\r\n      }\r\n    ]\r\n  }\r\n];"]}